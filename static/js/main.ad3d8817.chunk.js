(this["webpackJsonpi-am-rare"]=this["webpackJsonpi-am-rare"]||[]).push([[0],{16:function(e,t,s){"use strict";s.r(t);var i=s(2),n=s(3),o=s(4),a=s(12),r=s(15),u=s(0),l=s.n(u),c=s(5),d=s.n(c),h=(s(21),s(14)),y=s(1);function g(e){return Object(y.jsx)("div",{className:"questionText-box",children:Object(y.jsx)("h3",{className:"question",children:e.questionText})})}function q(e){return Object(y.jsx)("div",{className:"buttonBox",children:Object(y.jsx)("button",{className:"answerButton",onClick:e.onClick,children:e.answerText})})}function b(e){var t=Object(u.useState)("unselected"),s=Object(r.a)(t,2),i=s[0],n=s[1];if(e.options.length<=0)return e.onClick(null),Object(y.jsx)("div",{});var o=e.options.map((function(e,t){return{value:t,label:e.option}}));return console.log(i),console.log("unselected"===i?null:void 0),Object(y.jsxs)("div",{className:"select-row",children:[Object(y.jsx)(h.a,{options:o,isSearchable:!0,className:"choice-block-field choice-field",value:"unselected"===i?null:void 0,onChange:function(e){return function(e){n(e.value)}(e)}}),Object(y.jsx)("button",{onClick:function(){e.onClick(i),n("unselected")},className:"choice-block-field choice-submit-button",children:"Submit"})]})}function j(e){return Object(y.jsxs)("div",{children:[Object(y.jsxs)("h1",{children:["Congratulations! You are ",e.odds,"% rare!"]}),null!=e.source?Object(y.jsx)("a",{href:e.source,class:"source-link",target:"_blank",rel:"noopener noreferrer",children:"\u24d8 Source"}):null,Object(y.jsx)("p",{children:"Be sure to tell all your friends how rare you are!"}),Object(y.jsx)("button",{onClick:e.onClick,className:"generic-button",children:"Play on"})]})}function m(e){return Object(y.jsxs)("div",{children:[Object(y.jsx)("h1",{children:"Respect!"}),Object(y.jsxs)("p",{children:["You just played through all questions, you crazy nerd! That means you played through ",e.allQuestionCount," questions! We hate to say it, but maybe just get a hobby.",Object(y.jsx)("br",{})," If you insist, you can restart the madness with the button below:"]}),Object(y.jsx)("button",{onClick:e.onClick,className:"generic-button",children:"Restart game"})]})}function O(e){return console.log(0===e.data.length?[{rarity:0,question:"",choice:"You ain't rare yet!"}]:e.data),Object(y.jsxs)("div",{className:"table-container",id:"table-container",onClick:function(){return document.getElementById("triangle").classList.toggle("upsidedown-transition"),void document.getElementById("table-container").classList.toggle("height-transition")},children:[Object(y.jsx)("div",{className:"dropdown-button",id:"dropdown-button",children:Object(y.jsx)("div",{className:"triangle_down",id:"triangle"})}),Object(y.jsxs)("table",{className:"rarityTable",children:[Object(y.jsx)("thead",{children:Object(y.jsxs)("tr",{children:[Object(y.jsx)("th",{children:"Rarity"}),Object(y.jsx)("th",{children:"Question"})]})}),Object(y.jsx)("tbody",{children:0===e.data.length?Object(y.jsxs)("tr",{children:[Object(y.jsx)("td",{className:"rarity-cell",children:"0%"}),Object(y.jsxs)("td",{className:"first-item",children:[Object(y.jsx)("br",{}),Object(y.jsx)("span",{style:{fontSize:"0.9rem"},children:"\u2003 \u2192 You ain't rare yet!"})]})]}):e.data.map((function(e,t){var s=e.rarity,i=e.question,n=e.choice;return Object(y.jsxs)("tr",{children:[Object(y.jsxs)("td",{className:"rarity-cell",children:[s,Object(y.jsx)("span",{style:{fontSize:"2rem"},children:"%"})]}),Object(y.jsxs)("td",{className:0===t?"first-item":"",children:[i,Object(y.jsx)("br",{}),Object(y.jsxs)("span",{style:{fontSize:"0.9rem"},children:["\u2003 \u2192 ",n]})]})]},t)}))})]})]})}var p=function(e){Object(o.a)(s,e);var t=Object(a.a)(s);function s(){return Object(i.a)(this,s),t.apply(this,arguments)}return Object(n.a)(s,[{key:"getAnswerField",value:function(e){var t=this;switch(console.log(e),e){case"final":case"yesOrNo":return Object(y.jsxs)("div",{className:"buttonWrapper",children:[Object(y.jsx)(q,{answerText:"Yes",onClick:function(){return t.props.onSubmit(!0)}}),Object(y.jsx)(q,{answerText:"No",onClick:function(){return t.props.onSubmit(!1)}})]});case"choice":return Object(y.jsx)(b,{options:this.props.questionOptions,onClick:this.props.onSubmit});default:return Object(y.jsx)("p",{children:"Something went wrong!"})}}},{key:"render",value:function(){return Object(y.jsxs)("div",{children:[Object(y.jsx)("h1",{children:"I Am Rare"}),Object(y.jsx)("div",{className:"question-row",children:Object(y.jsx)(g,{questionText:this.props.questionText})}),Object(y.jsx)("div",{className:"answer-row",children:this.getAnswerField(this.props.questionType)})]})}}]),s}(l.a.Component),v=function(e){Object(o.a)(s,e);var t=Object(a.a)(s);function s(e){var n;Object(i.a)(this,s),(n=t.call(this,e)).shouldContinueInLevel=!1,console.log(localStorage.getItem("alreadyPlayedBaseQuestions"));var o=null===localStorage.getItem("alreadyPlayedBaseQuestions")||"undefined"===localStorage.getItem("alreadyPlayedBaseQuestions")?[]:JSON.parse(localStorage.getItem("alreadyPlayedBaseQuestions"));if(console.log(o),o.length===f().basequestions.length)n.state={gameView:"all-questions-played",rarityHistory:null===localStorage.getItem("rarityHistory")||"undefined"===localStorage.getItem("rarityHistory")?[]:JSON.parse(localStorage.getItem("rarityHistory"))};else{console.log(o);var a=x(0,f().basequestions.length,o);console.log(localStorage.getItem("alreadyPlayedBaseQuestions")),n.state={questionData:f().basequestions,currentQuestion:a,currentBaseQuestion:a,questionCount:f().basequestions.length,alreadyPlayedBasequestions:null===localStorage.getItem("alreadyPlayedBaseQuestions")||"undefined"===localStorage.getItem("alreadyPlayedBaseQuestions")?[]:JSON.parse(localStorage.getItem("alreadyPlayedBaseQuestions")),tempAlreadyPlayedQuestions:[],questionHistory:[],currentQuestionLevel:0,gameView:"start",rarityHistory:null===localStorage.getItem("rarityHistory")||"undefined"===localStorage.getItem("rarityHistory")?[]:JSON.parse(localStorage.getItem("rarityHistory"))}}return console.log(n.state.alreadyPlayedBasequestions),n}return Object(n.a)(s,[{key:"handleSubmit",value:function(e){if(console.log(e),!0===e&&this.state.questionData[this.state.currentQuestion].yesOdds){alert("yesOdds");var t=this.state.questionData[this.state.currentQuestion].yesOdds;this.showOdds(t,"Yes")}else if(!0===e&&this.state.questionData[this.state.currentQuestion].yes){var s=this.state.questionData[this.state.currentQuestion].yes.questions;this.goQuestionLevelDeeper(s)}else if(!1===e&&this.state.questionData[this.state.currentQuestion].noOdds){var i=this.state.questionData[this.state.currentQuestion].noOdds;this.showOdds(i,"No")}else if(!1===e&&this.state.questionData[this.state.currentQuestion].no){var n=this.state.questionData[this.state.currentQuestion].no.questions;this.goQuestionLevelDeeper(n)}else if("number"===typeof e){if(this.state.questionData[this.state.currentQuestion].options[e].questions){var o=this.state.questionData[this.state.currentQuestion].options[e].questions;this.goQuestionLevelDeeper(o)}else if(this.state.questionData[this.state.currentQuestion].options[e].odds){var a=this.state.questionData[this.state.currentQuestion].options[e].odds,r=this.state.questionData[this.state.currentQuestion].options[e].option;this.showOdds(a,r)}}else"unselected"===e?alert("Trying to trick us? We noticed that you didn't select an option, so go do that before I can let you pass!"):(alert("next question"),this.setNextQuestion())}},{key:"getQuestionType",value:function(e){return e.options?"choice":e.yes||e.no?"yesOrNo":e.yesOdds||e.noOdds||e.odds?"final":null}},{key:"goQuestionLevelDeeper",value:function(e){alert("going deeper");var t=x(0,e.length,[]);this.setState({questionData:e,questionCount:e.length,currentQuestion:t,questionHistory:this.state.questionHistory.concat([{questions:e,alreadyPlayedQuestions:[t]}])})}},{key:"setNextQuestion",value:function(e){var t=this,s=1,i=this.state.questionHistory[this.state.questionHistory.length-s],n=!0;if(i&&i.alreadyPlayedQuestions.length<i.questions.length)n=!1;else for(;i&&s<=this.state.questionHistory.length&&i.alreadyPlayedQuestions.length>=i.questions.length;){if(console.log(this.state.questionHistory[this.state.questionHistory.length-s]),console.log("levelFromBehind: "+s),console.log("questionHistory length: "+this.state.questionHistory.length),console.log("while"),n=!1,(s+=1)>this.state.questionHistory.length){alert("is at base"),n=!0;break}i=this.state.questionHistory[this.state.questionHistory.length-s]}if(n){if(n){var o=this.state.currentBaseQuestion;console.log(o);var a=this.state.alreadyPlayedBasequestions?this.state.alreadyPlayedBasequestions.concat([o]):[o];if(console.log(a),this.setState({alreadyPlayedBasequestions:a},(function(){alert("Setting base level question in local storage"),localStorage.setItem("alreadyPlayedBaseQuestions",JSON.stringify(t.state.alreadyPlayedBasequestions)),console.log(t.state.alreadyPlayedBasequestions)})),f().basequestions.length>this.state.alreadyPlayedBasequestions.length+1){var r=x(0,f().basequestions.length,a);this.setState({questionData:f().basequestions,currentQuestion:r,currentBaseQuestion:r,questionCount:f().basequestions.length,questionHistory:[],gameView:"game"})}else this.setState({gameView:"all-questions-played"})}}else{var u=x(0,i.questions.length,i.alreadyPlayedQuestions),l=this.state.questionHistory;l[this.state.questionHistory.length-s].alreadyPlayedQuestions.push(u),this.setState({currentQuestion:u,questionData:i.questions,questionHistory:l,gameView:"game"})}}},{key:"playAgain",value:function(){this.setNextQuestion()}},{key:"goBack",value:function(){if(this.state.questionHistory.length<=1){var e=this.state.alreadyPlayedBasequestions[this.state.alreadyPlayedBasequestions.length-1];console.log(this.state.alreadyPlayedBasequestions);var t=this.state.alreadyPlayedBasequestions.pop();this.setState({questionData:f().basequestions,currentQuestion:e,questionHistory:[],alreadyPlayedBasequestions:t,gameView:"game"})}else{if(console.log(this.state.questionHistory),this.state.questionHistory[this.state.questionHistory.length-1].alreadyPlayedQuestions.length>1);else{var s=this.state.questionHistory[this.state.questionHistory.length-2].questions,i=this.state.questionHistory[this.state.questionHistory.length-2].alreadyPlayedQuestions[this.state.questionHistory[this.state.questionHistory.length-2].alreadyPlayedQuestions.length-1],n=this.state.questionHistory;n[this.state.questionHistory.length-2].alreadyPlayedQuestions.pop()}this.setState({questionData:s,currentQuestion:i,questionHistory:n,gameView:"game"})}}},{key:"showOdds",value:function(e,t){var s=this;console.log(e),this.odds=e;var i=this.state.rarityHistory;i.push({rarity:e,question:this.state.questionData[this.state.currentQuestion].question,choice:t}),i.sort((function(e,t){return e.rarity-t.rarity})),this.setState({gameView:"odds",rarityHistory:i},(function(){localStorage.setItem("rarityHistory",JSON.stringify(s.state.rarityHistory))}))}},{key:"restartGame",value:function(){var e=this;console.log("RESTARTED HERE!!!");var t=x(0,f().basequestions.length,[]);this.setState({questionData:f().basequestions,currentQuestion:t,currentBaseQuestion:t,questionCount:f().basequestions.length,alreadyPlayedBasequestions:[],questionHistory:[],gameView:"start",rarityHistory:[]},(function(){localStorage.setItem("alreadyPlayedBaseQuestions",JSON.stringify(e.state.alreadyPlayedBasequestions)),localStorage.setItem("rarityHistory",JSON.stringify(e.state.rarityHistory))}))}},{key:"setGameView",value:function(e,t){switch(e){case"start":this.setState({gameView:"start"});break;case"game":this.setState({gameView:"game"});break;case"odds":console.log("yesOdds called"),this.setState({gameView:"odds"}),this.odds=t;break;default:this.setState({gameView:"start"})}}},{key:"render",value:function(){var e,t=this;switch(console.log(this.state.gameView),this.state.gameView){case"start":case"game":e=Object(y.jsx)(p,{questionText:this.state.questionData[this.state.currentQuestion].question,questionType:this.getQuestionType(this.state.questionData[this.state.currentQuestion]),questionOptions:this.state.questionData[this.state.currentQuestion].options,onSubmit:function(e){return t.handleSubmit(e)}});break;case"odds":e=Object(y.jsx)(j,{odds:this.odds,source:this.state.questionData[this.state.currentQuestion].source,onClick:function(){return t.playAgain()}});break;case"all-questions-played":e=Object(y.jsx)(m,{allQuestionsCount:f().basequestions.length,onClick:function(){return t.restartGame()}});break;default:e=Object(y.jsx)(p,{questionText:this.state.questionData[this.state.currentQuestion].question,questionType:this.getQuestionType(this.state.questionData[this.state.currentQuestion]),questionOptions:this.state.questionData[this.state.currentQuestion].options,onSubmit:function(e){return t.handleSubmit(e)}})}return Object(y.jsx)("div",{children:Object(y.jsxs)("div",{className:"column-container",children:[Object(y.jsx)("div",{style:{height:"100%"},children:Object(y.jsx)(O,{data:this.state.rarityHistory})}),Object(y.jsx)("div",{className:"game",children:Object(y.jsx)("div",{className:"game-view",children:e})})]})})}}]),s}(l.a.Component);function f(){return s(40)}function x(e,t,s){if(!(t-e<=s.length)){for(var i=Math.floor(Math.random()*(t-e)+e);s.includes(i);)i=Math.floor(Math.random()*(t-e)+e);return i}alert("more excluded numbers than the range")}d.a.render(Object(y.jsx)(v,{}),document.getElementById("root"))},21:function(e,t,s){},40:function(e){e.exports=JSON.parse('{"basequestions":[{"question":"Where do you live?","options":[{"option":"Germany","questions":[{"question":"How many years did you live here?","source":"https://stacks.cdc.gov/view/cdc/100472","options":[{"option":"<3","odds":30},{"option":">5","odds":70}]}]},{"option":"France","questions":[{"question":"Did you ever visit the Brandenburger Tor?","yesOdds":0.1,"source":"https://stacks.cdc.gov/view/cdc/100472"},{"question":"Do you live in Frankfurt?","yes":{"questions":[{"question":"Do you like the Alte Oper?","yesOdds":70,"source":"https://stacks.cdc.gov/view/cdc/100472"},{"question":"Did you ever go to the Oper?","noOdds":30,"source":"https://stacks.cdc.gov/view/cdc/100472"}]},"noOdds":30},{"question":"Do you live in the South of France?","yes":{"questions":[{"question":"Did you vote for La Republique en Marche?","yesOdds":30,"source":"https://stacks.cdc.gov/view/cdc/100472"}]}}]}]},{"question":"Do you go surfing?","yesOdds":19},{"question":"Did you grow up in an undeveloped country?","noOdds":30}]}')}},[[16,1,2]]]);
//# sourceMappingURL=main.ad3d8817.chunk.js.map